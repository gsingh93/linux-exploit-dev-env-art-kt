# Linux Exploit Dev Environment Build Rules for art-kernel-toolkit

This project adds `make` targets for building and testing
[art-kernel-toolkit](https://github.com/androidoffsec/art-kernel-toolkit) as
part of the
[Linux Exploit Development Environment](https://github.com/gsingh93/linux-exploit-dev-env).

It can be used as follows:

```bash
git clone https://github.com/gsingh93/linux-exploit-dev-env
cd linux-exploit-dev-env/external
git clone --recursive https://github.com/gsingh93/linux-exploit-dev-env-art-kt art-kt
```

Now run `make art-kt_help` in the root of the exploit dev environmnent to see what additional variables and targets have been added:

```
$ make art-kt_help
Environment Variables:
   ART_TEST_NO_QUIT                 - Set to 1 to leave QEMU running after the test script has completed (default: 0)

Targets:
   art-kt                           - Build art-kernel-toolkit.ko, install the module into the kernel's modules directory, and copy the module to the shared directory
   art-kt_help                      - Show this help message
   art-kt_clean                     - Clean the art-kernel-toolkit build
   art-kt_test                      - Run the art-kernel-toolkit test script
   art-kt_test_attach               - Attach to the serial port, assuming `art-kt_test` was run with with `ART_TEST_NO_QUIT=1`
   art-kt_test_attach_monitor       - Attach to the monitor port, assuming `art-kt_test` was run with with `ART_TEST_NO_QUIT=1`
   art-kt_test_quit                 - Quit the QEMU instance, assuming `art-kt_test` was run with with `ART_TEST_NO_QUIT=1`
```
